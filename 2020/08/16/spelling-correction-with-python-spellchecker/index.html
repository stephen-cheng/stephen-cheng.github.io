<!doctype html>
<head>
  <meta charset="utf-8">
  <meta name="description" content="&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;center&gt;Stephen Cheng&lt;/center&gt;


&lt;h3 id=&#34;Intro&#34;&gt;&lt;a href=&#34;#Intro&#34; class=&#34;headerlink&#34; title=&#34;Intro&#34;&gt;&lt;/a&gt;Intro&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/steven-cheng-com/images/mas">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=yes">
  <title>Spelling Correction with Python Spellchecker | Stephen Cheng</title>

  <link rel="stylesheet" id="chosen-theme" href="https://rawgit.com/fiatjaf/classless/master/themes/plain/theme.css">
  <script>
let link = document.getElementById('chosen-theme')
let widget = document.createElement('div')
widget.style.position = 'absolute'
widget.style.right = '5px'
widget.style.top = '2px'
widget.style.background = 'beige'
widget.style.color = '#444'
widget.style.zIndex = 99
widget.style.padding = '4px 8px'
widget.innerHTML = `
<label>
  <p>No theme was set on <code>theme_config</code>.<br>
     Choose a theme from the list to experiment with it:</p>
  <select></select>
</label>
`
fetch('https://api.github.com/repos/fiatjaf/classless/contents/themes')
  .then(r => r.json())
  .then(files => {
    document.body.appendChild(widget)
    let select = document.querySelector('select')
    files
      .filter(f => f.type === 'dir')
      .forEach(f => {
        let option = document.createElement('option')
        option.value = f.name
        option.innerHTML = f.name
        select.appendChild(option)
      })
    let options = Array.from(select.querySelectorAll('option'))
    let chosen = options[parseInt(Math.random() * options.length)]
    chosen.selected = true
    link.href = link.href.replace(/themes\/[^\/]+/, `themes/${chosen.value}`)
    select.addEventListener('change', e => {
      let chosen = e.target.value
      link.href = link.href.replace(/themes\/[^\/]+/, `themes/${chosen}`)
    })
  })
  .catch(console.log)
  </script>

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <header role="banner">
      <a href="/">
        
          <img src="https://picsum.photos/640/480">
        
      </a>  
    <h1>
      <a href="/">Stephen Cheng</a>
    </h1>
    <aside>
      <p>Personal sharings about Tech &amp; Work.</p>
    </aside>
  </header>
  
    <nav>
      <ul>
        
        <li>
          <a href="/">Home</a>
        </li>
        
        <li>
          <a href="/archives/">Archives</a>
        </li>
        
      </ul>
    </nav>
  
  <main>
    <article>
  <header>
  
  <h1><a href="https://stephen-cheng.github.io/2020/08/16/spelling-correction-with-python-spellchecker/">Spelling Correction with Python Spellchecker</a></h1>
  <aside>
    
    <time datetime="202020-08-16">
      August 16th 2020
    </time>
    
    <ul>
    
      <li><a href="/tags/Spelling-Correction/">Spelling-Correction</a></li>
    
      <li><a href="/tags/Natural-Language-Processing/">Natural-Language-Processing</a></li>
    
    </ul>
  </aside>
</header>

  <div><p>&nbsp;</p>
<center>Stephen Cheng</center>


<h3 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h3><p><img src="https://raw.githubusercontent.com/steven-cheng-com/images/master/blog/2020/202008/20200816/0.jpg" alt=""></p>
<p>Spelling checking or spelling correction is a basic requirement in any text processing or analysis. The python package <code>pyspellchecker</code> provides us this feature to find the words that may have been mis-spelled and also suggest the possible corrections. <code>pyspellchecker</code> supports multiple languages including English, Spanish, German, French, and Portuguese. And it supports Python 3 and Python 2.7. <code>pyspellchecker</code> allows for the setting of the Levenshtein Distance to check. For longer words, it is highly recommended to use a distance of 1 and not the default 2.</p>
<h3 id="How-to-install"><a href="#How-to-install" class="headerlink" title="How to install?"></a>How to install?</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pyspellchecker</span><br></pre></td></tr></table></figure>

<h3 id="How-to-use"><a href="#How-to-use" class="headerlink" title="How to use?"></a>How to use?</h3><ul>
<li>With the default Word Frequency list</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> spellchecker <span class="keyword">import</span> SpellChecker</span><br><span class="line"></span><br><span class="line">spell = SpellChecker()</span><br><span class="line"></span><br><span class="line"><span class="comment"># find those words that may be misspelled</span></span><br><span class="line">misspelled = spell.unknown([<span class="string">'let'</span>, <span class="string">'us'</span>, <span class="string">'wlak'</span>,<span class="string">'on'</span>,<span class="string">'the'</span>,<span class="string">'groun'</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> word <span class="keyword">in</span> misspelled:</span><br><span class="line">    <span class="comment"># Get the one `most likely` answer</span></span><br><span class="line">    print(spell.correction(word))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Get a list of `likely` options</span></span><br><span class="line">    print(spell.candidates(word))</span><br></pre></td></tr></table></figure>

<p>Output:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">group</span><br><span class="line">&#123;'group', 'ground', 'groan', 'grout', 'grown', 'groin'&#125;</span><br><span class="line">walk</span><br><span class="line">&#123;'flak', 'weak', 'walk'&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>With the customized Word Frequency list</li>
</ul>
<p>You can add additional text to generate a more appropriate list for your use case.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> spellchecker <span class="keyword">import</span> SpellChecker</span><br><span class="line"></span><br><span class="line">spell = SpellChecker()  <span class="comment"># loads default word frequency list</span></span><br><span class="line">spell.word_frequency.load_text_file(<span class="string">'./word_frequency.txt'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># if you just want to make sure some words are not flagged as misspelled</span></span><br><span class="line">spell.word_frequency.load_words([<span class="string">'microsoft'</span>, <span class="string">'apple'</span>, <span class="string">'google'</span>])</span><br><span class="line">spell.known([<span class="string">'microsoft'</span>, <span class="string">'google'</span>])  <span class="comment"># will return both now!</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Set the distance parameter</li>
</ul>
<p>If the words that you wish to check are long, it is recommended to reduce the distance to 1. This can be accomplished either when initializing the spell check class or after the fact.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> spellchecker <span class="keyword">import</span> SpellChecker</span><br><span class="line"></span><br><span class="line">spell = SpellChecker(distance=<span class="number">1</span>)  <span class="comment"># set at initialization</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># do some work on longer words</span></span><br><span class="line"></span><br><span class="line">spell.distance = <span class="number">2</span>  <span class="comment"># set the distance parameter back to the default</span></span><br></pre></td></tr></table></figure>

<h3 id="Additional-Methods"><a href="#Additional-Methods" class="headerlink" title="Additional Methods"></a>Additional Methods</h3><p><code>candidates(word)</code>: Returns a set of possible candidates for the misspelled word</p>
<p><code>word_probability(word)</code>: The frequency of the given word out of all words in the frequency list</p>
<p><code>correction(word)</code>: Returns the most probable result for the misspelled word</p>
<p><code>known([words])</code>: Returns those words that are in the word frequency list</p>
<p><code>unknown([words])</code>: Returns those words that are not in the frequency list</p>
</div>
</article>

  </main>
  <aside>
    <p>This is an `aside`, a useful place to put information of any kind: metadata about the site author (with or without pictures), brief information about the purposes of the site, a static collection of external links or anything else.</p>
<p>For some Classless themes pictures and data about the author may suit better in the `cover` and `description` site attributes (see `config.toml`), but most of the times that kind of information will fit here better.</p>

  </aside>
  <footer role="contentinfo">
    <p>A default site footer. If you don't know what to place here maybe you should just write your name plus the current year?</p>
<p>If you want to have a sitemap, a contact form or other complex stuff, most Classless themes will also handle it nicely. Or you can take a look at the <code>aside.html</code> partial.</p>

  </footer>
</body>
